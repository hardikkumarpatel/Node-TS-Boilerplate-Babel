{"version":3,"file":"Swagger.routes.js","names":["_expressBasicAuth","_interopRequireDefault","require","_swaggerUiExpress","_swaggerJsdoc","_helpers","_config","_2","e","__esModule","default","asyncGeneratorStep","n","t","r","o","a","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","SwaggerApp","constructor","app","App","initialize","_this","use","basicAuth","users","root","Config","get","IConfigKey","AUTH_PASSWORD","challenge","swaggerUi","serve","setup","swaggerJSDocs","SwaggerOptions","SWAGGER_OPTIONS","explorer","swaggerOptions","docExpansion","ApiAsyncHelper","AsyncHandler","_ref","_","res","setHeader","send","_x","_x2","concat","PORT","_default","exports"],"sources":["../../src/swagger/Swagger.routes.ts"],"sourcesContent":["import express from \"express\";\nimport basicAuth from \"express-basic-auth\";\nimport swaggerUi from \"swagger-ui-express\";\nimport swaggerJSDocs from \"swagger-jsdoc\";\nimport { ApiAsyncHelper } from \"@/helpers\";\nimport { Config, IConfigKey } from \"@/config\";\nimport { SwaggerOptions } from \"@/swagger\";\nimport ExpressEngine from \"@/app\";\n\nclass SwaggerApp {\n  private app: express.Application;\n  constructor(app: typeof ExpressEngine) {\n    this.app = app.App;\n  }\n\n  public async initialize(): Promise<string> {\n    this.app.use(\n      \"/docs\",\n      basicAuth({\n        users: {\n          root: Config.get<string>(IConfigKey.AUTH_PASSWORD)\n        },\n        challenge: true\n      })\n    );\n    this.app.use(\n      \"/docs\",\n      swaggerUi.serve,\n      swaggerUi.setup(swaggerJSDocs(SwaggerOptions.SWAGGER_OPTIONS), {\n        explorer: true,\n        swaggerOptions: {\n          docExpansion: \"none\"\n        }\n      })\n    );\n    this.app.get(\n      \"/docs.json\",\n      ApiAsyncHelper.AsyncHandler(async (_, res) => {\n        res.setHeader(\"Content-Type\", \"application/json\");\n        res.send(swaggerJSDocs(SwaggerOptions.SWAGGER_OPTIONS));\n      })\n    );\n    return `Swagger docs available at http://localhost:${Config.get<number>(IConfigKey.PORT)}/docs ðŸ“—`;\n  }\n}\n\nexport default SwaggerApp;\n"],"mappings":";;;;;;AACA,IAAAA,iBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AACA,IAAAI,OAAA,GAAAJ,OAAA;AACA,IAAAK,EAAA,GAAAL,OAAA;AAA2C,SAAAD,uBAAAO,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAG,mBAAAC,CAAA,EAAAC,CAAA,EAAAL,CAAA,EAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,cAAAC,CAAA,GAAAN,CAAA,CAAAI,CAAA,EAAAC,CAAA,GAAAE,CAAA,GAAAD,CAAA,CAAAE,KAAA,WAAAR,CAAA,gBAAAJ,CAAA,CAAAI,CAAA,KAAAM,CAAA,CAAAG,IAAA,GAAAR,CAAA,CAAAM,CAAA,IAAAG,OAAA,CAAAC,OAAA,CAAAJ,CAAA,EAAAK,IAAA,CAAAV,CAAA,EAAAC,CAAA;AAAA,SAAAU,kBAAAb,CAAA,6BAAAC,CAAA,SAAAL,CAAA,GAAAkB,SAAA,aAAAJ,OAAA,WAAAR,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAAJ,CAAA,CAAAe,KAAA,CAAAd,CAAA,EAAAL,CAAA,YAAAoB,MAAAhB,CAAA,IAAAD,kBAAA,CAAAK,CAAA,EAAAF,CAAA,EAAAC,CAAA,EAAAa,KAAA,EAAAC,MAAA,UAAAjB,CAAA,cAAAiB,OAAAjB,CAAA,IAAAD,kBAAA,CAAAK,CAAA,EAAAF,CAAA,EAAAC,CAAA,EAAAa,KAAA,EAAAC,MAAA,WAAAjB,CAAA,KAAAgB,KAAA;AAG3C,MAAME,UAAU,CAAC;EAEfC,WAAWA,CAACC,GAAyB,EAAE;IACrC,IAAI,CAACA,GAAG,GAAGA,GAAG,CAACC,GAAG;EACpB;EAEaC,UAAUA,CAAA,EAAoB;IAAA,IAAAC,KAAA;IAAA,OAAAV,iBAAA;MACzCU,KAAI,CAACH,GAAG,CAACI,GAAG,CACV,OAAO,EACP,IAAAC,yBAAS,EAAC;QACRC,KAAK,EAAE;UACLC,IAAI,EAAEC,cAAM,CAACC,GAAG,CAASC,kBAAU,CAACC,aAAa;QACnD,CAAC;QACDC,SAAS,EAAE;MACb,CAAC,CACH,CAAC;MACDT,KAAI,CAACH,GAAG,CAACI,GAAG,CACV,OAAO,EACPS,yBAAS,CAACC,KAAK,EACfD,yBAAS,CAACE,KAAK,CAAC,IAAAC,qBAAa,EAACC,iBAAc,CAACC,eAAe,CAAC,EAAE;QAC7DC,QAAQ,EAAE,IAAI;QACdC,cAAc,EAAE;UACdC,YAAY,EAAE;QAChB;MACF,CAAC,CACH,CAAC;MACDlB,KAAI,CAACH,GAAG,CAACS,GAAG,CACV,YAAY,EACZa,uBAAc,CAACC,YAAY;QAAA,IAAAC,IAAA,GAAA/B,iBAAA,CAAC,WAAOgC,CAAC,EAAEC,GAAG,EAAK;UAC5CA,GAAG,CAACC,SAAS,CAAC,cAAc,EAAE,kBAAkB,CAAC;UACjDD,GAAG,CAACE,IAAI,CAAC,IAAAZ,qBAAa,EAACC,iBAAc,CAACC,eAAe,CAAC,CAAC;QACzD,CAAC;QAAA,iBAAAW,EAAA,EAAAC,GAAA;UAAA,OAAAN,IAAA,CAAA7B,KAAA,OAAAD,SAAA;QAAA;MAAA,IACH,CAAC;MACD,qDAAAqC,MAAA,CAAqDvB,cAAM,CAACC,GAAG,CAASC,kBAAU,CAACsB,IAAI,CAAC;IAAW;EACrG;AACF;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAxD,OAAA,GAEcoB,UAAU","ignoreList":[]}