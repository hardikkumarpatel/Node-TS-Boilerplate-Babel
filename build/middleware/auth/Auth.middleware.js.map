{"version":3,"file":"Auth.middleware.js","names":["_httpStatusCodes","require","_helpers","asyncGeneratorStep","n","t","e","r","o","a","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperty","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","AuthHelperMiddleware","ApiAsyncHelper","AsyncHandler","_ref","req","res","next","_headers$authorizatio","headers","authorization","includes","ApiErrorResponseHelper","StatusCodes","UNAUTHORIZED","getReasonPhrase","user","name","email","entity","_x","_x2","_x3","_default","exports","default"],"sources":["../../../src/middleware/auth/Auth.middleware.ts"],"sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport { getReasonPhrase, StatusCodes } from \"http-status-codes\";\nimport { ApiAsyncHelper, ApiErrorResponseHelper } from \"@/helpers\";\nimport { IUser } from \"@/helpers/interfaces/User.definations\";\n\nclass AuthHelperMiddleware {\n  public static use = ApiAsyncHelper.AsyncHandler(\n    async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n      const { headers } = req;\n      if (!headers.authorization?.includes(\"Bearer\")) {\n        throw new ApiErrorResponseHelper(\n          StatusCodes.UNAUTHORIZED,\n          getReasonPhrase(StatusCodes.UNAUTHORIZED),\n          \"Unauthorised request! access token is missing\"\n        );\n      }\n\n      const user: IUser = {\n        name: \"Hardy\",\n        email: \"info@mail.com\"\n      };\n      req.entity.user = user;\n      next();\n    }\n  );\n}\n\nexport default AuthHelperMiddleware;\n"],"mappings":"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","ignoreList":[]}