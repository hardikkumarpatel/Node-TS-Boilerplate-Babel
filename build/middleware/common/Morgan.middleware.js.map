{"version":3,"file":"Morgan.middleware.js","names":["_morgan","_interopRequireDefault","require","_helpers","e","__esModule","default","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","MorganLogMiddleware","constructor","morgan","skip","_","res","statusCode","stream","write","Log","http","error","token","locals","message","_default","exports"],"sources":["../../../src/middleware/common/Morgan.middleware.ts"],"sourcesContent":["import { Response } from \"express\";\nimport morgan from \"morgan\";\nimport { Log } from \"@/helpers\";\n\nclass MorganLogMiddleware {\n  constructor() {\n    morgan.token(\"message\", (_, res: Response) => res.locals.message || \"\");\n  }\n\n  public success = morgan(\"short\", {\n    skip: (_, res: Response) => res.statusCode >= 400,\n    stream: { write: Log.http }\n  });\n  public error = morgan(\"short\", {\n    skip: (_, res: Response) => res.statusCode < 400,\n    stream: { write: Log.error }\n  });\n}\n\nexport default MorganLogMiddleware;\n"],"mappings":";;;;;;AACA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAAgC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAG,gBAAAH,CAAA,EAAAI,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAE,cAAA,CAAAF,CAAA,MAAAJ,CAAA,GAAAO,MAAA,CAAAC,cAAA,CAAAR,CAAA,EAAAI,CAAA,IAAAK,KAAA,EAAAJ,CAAA,EAAAK,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAAZ,CAAA,CAAAI,CAAA,IAAAC,CAAA,EAAAL,CAAA;AAAA,SAAAM,eAAAD,CAAA,QAAAQ,CAAA,GAAAC,YAAA,CAAAT,CAAA,uCAAAQ,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAT,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAL,CAAA,GAAAK,CAAA,CAAAU,MAAA,CAAAC,WAAA,kBAAAhB,CAAA,QAAAa,CAAA,GAAAb,CAAA,CAAAiB,IAAA,CAAAZ,CAAA,EAAAD,CAAA,uCAAAS,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAAd,CAAA,GAAAe,MAAA,GAAAC,MAAA,EAAAf,CAAA;AAEhC,MAAMgB,mBAAmB,CAAC;EACxBC,WAAWA,CAAA,EAAG;IAAAnB,eAAA,kBAIG,IAAAoB,eAAM,EAAC,OAAO,EAAE;MAC/BC,IAAI,EAAEA,CAACC,CAAC,EAAEC,GAAa,KAAKA,GAAG,CAACC,UAAU,IAAI,GAAG;MACjDC,MAAM,EAAE;QAAEC,KAAK,EAAEC,YAAG,CAACC;MAAK;IAC5B,CAAC,CAAC;IAAA5B,eAAA,gBACa,IAAAoB,eAAM,EAAC,OAAO,EAAE;MAC7BC,IAAI,EAAEA,CAACC,CAAC,EAAEC,GAAa,KAAKA,GAAG,CAACC,UAAU,GAAG,GAAG;MAChDC,MAAM,EAAE;QAAEC,KAAK,EAAEC,YAAG,CAACE;MAAM;IAC7B,CAAC,CAAC;IAVAT,eAAM,CAACU,KAAK,CAAC,SAAS,EAAE,CAACR,CAAC,EAAEC,GAAa,KAAKA,GAAG,CAACQ,MAAM,CAACC,OAAO,IAAI,EAAE,CAAC;EACzE;AAUF;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAEcmB,mBAAmB","ignoreList":[]}