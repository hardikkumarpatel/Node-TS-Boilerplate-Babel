{"version":3,"file":"ApiErrorResponse.helper.js","names":["_httpStatusCodes","require","ApiErrorResponseHelper","Error","constructor","statusCode","arguments","length","undefined","message","getReasonPhrase","StatusCodes","INTERNAL_SERVER_ERROR","errors","stack","captureStackTrace","success","result","extensions","code","stacktrace","split","map","line","trim","exports","default"],"sources":["../../../src/helpers/api/ApiErrorResponse.helper.ts"],"sourcesContent":["import { getReasonPhrase, StatusCodes } from \"http-status-codes\";\n\nexport default class ApiErrorResponseHelper extends Error {\n  public success: boolean;\n  public statusCode: number;\n  public message: string;\n  public result: null;\n  public errors: ErrorCapture[];\n  constructor(\n    statusCode = 500,\n    message = getReasonPhrase(StatusCodes.INTERNAL_SERVER_ERROR),\n    errors: string,\n    stack?: null | string\n  ) {\n    super(message);\n    if (stack) {\n      this.stack = stack;\n    } else {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    this.success = false;\n    this.statusCode = statusCode;\n    this.message = message;\n    this.result = null;\n    this.errors = [\n      {\n        message: errors,\n        extensions: {\n          code: getReasonPhrase(statusCode),\n          stacktrace: this.stack ? this.stack.split(\"\\n\").map((line) => line.trim()) : []\n        }\n      }\n    ];\n  }\n}\n\nexport interface ErrorCapture {\n  message?: string;\n  extensions?: Extension;\n  [key: string]: any;\n}\nexport interface Extension {\n  code?: string;\n  stacktrace?: ReadonlyArray<string>;\n}\n"],"mappings":";;;;;;AAAA,IAAAA,gBAAA,GAAAC,OAAA;AAEe,MAAMC,sBAAsB,SAASC,KAAK,CAAC;EAMxDC,WAAWA,CAAA,EAKT;IAAA,IAJAC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAG;IAAA,IAChBG,OAAO,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAAI,gCAAe,EAACC,4BAAW,CAACC,qBAAqB,CAAC;IAAA,IAC5DC,MAAc,GAAAP,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;IAAA,IACdM,KAAqB,GAAAR,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;IAErB,KAAK,CAACC,OAAO,CAAC;IACd,IAAIK,KAAK,EAAE;MACT,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,MAAM;MACLX,KAAK,CAACY,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAACX,WAAW,CAAC;IACjD;IACA,IAAI,CAACY,OAAO,GAAG,KAAK;IACpB,IAAI,CAACX,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACI,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACQ,MAAM,GAAG,IAAI;IAClB,IAAI,CAACJ,MAAM,GAAG,CACZ;MACEJ,OAAO,EAAEI,MAAM;MACfK,UAAU,EAAE;QACVC,IAAI,EAAE,IAAAT,gCAAe,EAACL,UAAU,CAAC;QACjCe,UAAU,EAAE,IAAI,CAACN,KAAK,GAAG,IAAI,CAACA,KAAK,CAACO,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,GAAG;MAC/E;IACF,CAAC,CACF;EACH;AACF;AAACC,OAAA,CAAAC,OAAA,GAAAxB,sBAAA","ignoreList":[]}